# Go With Grafana And Prometheus



## Prometheus & Grafana ç®€å•è®¤è¯†ä¸ç†è§£

### 1. ä»€ä¹ˆæ˜¯ Prometheusï¼Ÿ

#### 1.1 é€šä¿—ç†è§£

ğŸ‘‰ å®ƒæ˜¯ä¸ª`ã€Œç›‘æ§æ•°æ®ç®¡å®¶ã€`ï¼Œä¸“é—¨æ”¶é›†å’Œå­˜å‚¨å„ç§ç›‘æ§æŒ‡æ ‡çš„æ•°å­—ï¼ˆæ¯”å¦‚CPUæ¸©åº¦ã€ç½‘ç«™è®¿é—®é‡ã€å†…å­˜ç”¨é‡ç­‰ï¼‰å¹¶**ä¿å­˜åœ¨å®ƒè‡ªå¸¦çš„æ•°æ®åº“é‡Œ**ã€‚

---

#### 1.2 æ ¸å¿ƒåŠŸèƒ½

|ç‰¹ç‚¹	|è¯´æ˜|
|:------|:------|
|ğŸ“ˆ æ—¶é—´åºåˆ—æ•°æ®åº“	|æŒ‰æ—¶é—´é¡ºåºè®°å½•æŒ‡æ ‡å˜åŒ–ï¼ˆå¦‚ï¼šCPUä½¿ç”¨ç‡æ¯åˆ†é’Ÿçš„å€¼ï¼‰|
|ğŸ” ä¸»åŠ¨æ‹‰å–æ¨¡å¼	|å®šæœŸå»å„ä¸ªæœåŠ¡"æŠ„è¡¨"ï¼ˆHTTPè®¿é—® /metrics æ¥å£ï¼‰|
|ğŸ”” å‘Šè­¦ç³»ç»Ÿ	|å‘ç°å¼‚å¸¸æ—¶èƒ½è‡ªåŠ¨å‘é€æŠ¥è­¦ï¼ˆéœ€è¦é¢å¤–é…ç½®Alertmanagerï¼‰|
|ğŸ§© å¤šç»´æ•°æ®æ¨¡å‹	|ç”¨æ ‡ç­¾åŒºåˆ†æ•°æ®ï¼ˆå¦‚åŒºåˆ†ä¸åŒæœåŠ¡å™¨çš„CPUæŒ‡æ ‡ï¼‰|

---


### 2. ä»€ä¹ˆæ˜¯ Grafanaï¼Ÿ

#### 2.1 â€‹é€šä¿—ç†è§£â€‹ï¼š

ğŸ‘‰ å®ƒæ˜¯ä¸ª`ã€Œæ•°æ®å¯è§†åŒ–ç”»å®¶ã€`ï¼Œèƒ½æŠŠæ¯ç‡¥çš„æ•°å­—å˜æˆæ¼‚äº®çš„**å›¾è¡¨å’Œä»ªè¡¨ç›˜**ã€‚å®ƒ**ä¸å­˜å‚¨æ•°æ®ï¼Œåªè´Ÿè´£å±•ç¤º**ã€‚

---


#### 2.2 æ ¸å¿ƒèƒ½åŠ›â€‹

|ç‰¹ç‚¹	|è¯´æ˜|
|:------|:------|
|ğŸ¨ å¯è§†åŒ–ä¸“å®¶	|æ”¯æŒæŠ˜çº¿å›¾/æŸ±çŠ¶å›¾/ä»ªè¡¨ç›˜/çƒ­åŠ›å›¾ç­‰30+å›¾è¡¨ç±»å‹|
|ğŸ”Œ ä¸‡èƒ½è¿æ¥å™¨	|èƒ½å¯¹æ¥Prometheusã€MySQLã€InfluxDBç­‰50+æ•°æ®æº|
|ğŸ“± çœ‹æ¿å®šåˆ¶	|è‡ªç”±ç»„åˆç›‘æ§é¢æ¿ï¼ˆç±»ä¼¼ç»„è£…æ±½è½¦ä»ªè¡¨ç›˜ï¼‰|
|ğŸš¨ æ™ºèƒ½å‘Šè­¦	|å¯åŸºäºå›¾è¡¨é˜ˆå€¼è®¾ç½®æŠ¥è­¦è§„åˆ™|

----

## å®‰è£…éƒ¨ç½²ï¼ˆUbuntuç‰ˆï¼‰

### 1. å®‰è£… Prometheus

```bash
# ä¸‹è½½å®‰è£…åŒ…ï¼ˆæœ€æ–°ç¨³å®šç‰ˆï¼‰
wget https://github.com/prometheus/prometheus/releases/download/v2.48.0/prometheus-2.48.0.linux-amd64.tar.gz

# è§£å‹åˆ°ç³»ç»Ÿç›®å½•
tar xvfz prometheus-*.tar.gz
sudo mv prometheus-2.48.0.linux-amd64 /opt/prometheus
```

---

### 2. Prometheus é…ç½®ä¸å¯åŠ¨

```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆä¿ç•™é»˜è®¤é…ç½®å³å¯ï¼‰
sudo nano /opt/prometheus/prometheus.yml

# å¯åŠ¨æœåŠ¡ï¼ˆå‰å°è¿è¡Œæ–¹ä¾¿è°ƒè¯•ï¼‰
cd /opt/prometheus
./prometheus
```

âœ… â€‹éªŒè¯å®‰è£…â€‹ï¼šæµè§ˆå™¨æ‰“å¼€ http://localhost:9090 ã€ipå¯æ ¹æ®å®é™…éœ€æ±‚ä¿®æ”¹ã€‘

![promethuespage](./image/promethuespage.png)


---

### 3. å®‰è£… Grafana

```bash
# ä¸‹è½½å®‰è£…åŒ…
wget https://dl.grafana.com/oss/release/grafana-10.2.1.linux-amd64.tar.gz

# è§£å‹åˆ°ç³»ç»Ÿç›®å½•
tar xvfz grafana-*.tar.gz
sudo mv grafana-10.2.1 /opt/grafana
```

---

### 4. Grafana å¯åŠ¨ä¸éªŒè¯

```bash
# å¯åŠ¨æœåŠ¡
cd /opt/grafana/bin
./grafana-server
```

âœ… â€‹éªŒè¯å®‰è£…â€‹ï¼šæµè§ˆå™¨æ‰“å¼€ http://localhost:3000 ã€ipå¯æ ¹æ®å®é™…éœ€æ±‚ä¿®æ”¹ã€‘

ğŸ”‘ é»˜è®¤è´¦å·: admin(è´¦å·)/admin(å¯†ç ) 
> (é¦–æ¬¡ç™»å½•è¦æ±‚æ”¹å¯†ç )

![grafanapage](./image/grafanapage.png)

---

